
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Principles for testing software, tools for testing Python code, practices for debugging models and testing ML">
      
      
        <meta name="author" content="The Full Stack">
      
      
        <link rel="canonical" href="https://fullstackdeeplearning.com/course/2022/lecture-3-troubleshooting-and-testing/">
      
      
        <link rel="prev" href="../lab-4-experiment-management/">
      
      
        <link rel="next" href="../lab-5-troubleshooting-and-testing/">
      
      
      <link rel="icon" href="../../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Lecture 3: Troubleshooting & Testing - The Full Stack</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    

      
    
<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>
<!-- <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script> -->

    
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WQ93TYN7GT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WQ93TYN7GT');
</script>

<!-- Sentry -->
<script src="https://js.sentry-cdn.com/f535e934f1a647e99c863aa22bfd7e32.min.js" crossorigin="anonymous"></script>
<script>
  Sentry.onLoad(function() {
    Sentry.init({
      sampleRate: 1,
    });
  });
</script>

<!-- Heap Analytics -->
<script type="text/javascript">
  window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],o=0;o<p.length;o++)heap[p[o]]=n(p[o])};
  heap.load("2003690319");
</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    










<meta property="og:title" content="The Full Stack - Lecture 3: Troubleshooting &amp; Testing" />
<meta property="og:description" content="Principles for testing software, tools for testing Python code, practices for debugging models and testing ML" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://fullstackdeeplearning.com/course/2022/lecture-3-troubleshooting-and-testing/" />
<meta property="og:image" content="https://staging.fullstackdeeplearning.com/images/opengraph.png" />
<meta property="og:image:alt" content="Image explaining what The Full Stack covers." />
<meta property="og:image:type" content="image/jpg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="full_stack_dl" />
<meta name="twitter:title" content="The Full Stack - Lecture 3: Troubleshooting &amp; Testing" />
<meta name="twitter:description" content="Principles for testing software, tools for testing Python code, practices for debugging models and testing ML" />
<meta name="twitter:image" content="https://staging.fullstackdeeplearning.com/images/opengraph.png" />
<meta name="twitter:image:alt" content="Image explaining what The Full Stack covers." />

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lecture-3-troubleshooting-testing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
<!-- Follow us on
<a href="https://twitter.com/full_stack_dl" target="_blank" rel="noopener">
  <span class="twemoji twitter" style="color: #1da1f2">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
      <path
        d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"
      ></path>
    </svg>
  </span>
  <strong>Twitter</strong>
</a>
and

<a
  href="https://www.youtube.com/@The_Full_Stack?sub_confirmation=1"
  target="_blank"
  rel="noopener"
>
  <span class="twemoji youtube" style="color: #ff0000">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
      <path
        d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"
      ></path>
    </svg>
  </span>
  <strong>YouTube</strong>
</a> -->
<a href="https://www.scale.bythebay.io/llm-workshop">Sign up for our latest in-person course!</a>

<!-- We use the twemoji project for the pancake emoji symbol
and for other emoji and icon purposes.
Check them out here: https://github.com/twitter/twemoji
-->

          </div>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="The Full Stack" class="md-header__button md-logo" aria-label="The Full Stack" data-md-component="logo">
      
  <img src="../../../images/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Full Stack
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lecture 3: Troubleshooting &amp; Testing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/the-full-stack/website" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    The Full Stack Website
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../llm-bootcamp/" class="md-tabs__link">
        
  
  
    
  
  LLM Bootcamp

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="../../" class="md-tabs__link">
        
  
  
    
  
  Deep Learning Course

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../blog/" class="md-tabs__link">
        
  
  
    
  
  Blog

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../cloud-gpus/" class="md-tabs__link">
        
  
  
    
  
  Cloud GPUs

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="The Full Stack" class="md-nav__button md-logo" aria-label="The Full Stack" data-md-component="logo">
      
  <img src="../../../images/favicon.png" alt="logo">

    </a>
    The Full Stack
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/the-full-stack/website" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    The Full Stack Website
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../llm-bootcamp/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    LLM Bootcamp
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            LLM Bootcamp
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../llm-bootcamp/spring-2023/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Spring 2023
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Spring 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/launch-an-llm-app-in-one-hour/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Launch an LLM App in One Hour
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/llm-foundations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Foundations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/prompt-engineering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Learn to Spell: Prompt Engineering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/augmented-language-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Augmented Language Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/askfsdl-walkthrough/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Walkthrough: askFSDL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/ux-for-luis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UX for Language User Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/llmops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLMOps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/whats-next/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What's Next?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/shabani-train-your-own/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reza Shabani: How to train your own LLM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/chase-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Harrison Chase: Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../llm-bootcamp/spring-2023/welinder-fireside-chat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fireside Chat with Peter Welinder
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Deep Learning Course
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Deep Learning Course
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    FSDL 2022
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            FSDL 2022
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-1-course-vision-and-when-to-use-ml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 1: Course Vision and When to Use ML
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-0-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-2-development-infrastructure-and-tooling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 2: Development Infrastructure &amp; Tooling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-4-experiment-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 4: Experiment Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Lecture 3: Troubleshooting &amp; Testing
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Lecture 3: Troubleshooting &amp; Testing
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-testing-software" class="md-nav__link">
    <span class="md-ellipsis">
      1 - Testing Software
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 - Testing Software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-tests-help-us-ship-faster-they-dont-catch-all-bugs" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 - Tests Help Us Ship Faster. They Don't Catch All Bugs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-use-testing-tools-but-dont-chase-coverage" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 - Use Testing Tools, But Don't Chase Coverage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-use-linting-tools-but-leave-escape-valves" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 - Use Linting Tools, But Leave Escape Valves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-always-be-automating" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 - Always Be Automating
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-testing-ml-systems" class="md-nav__link">
    <span class="md-ellipsis">
      2 - Testing ML Systems
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 - Testing ML Systems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-testing-ml-is-hard-but-not-impossible" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 - Testing ML Is Hard, But Not Impossible
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-use-expectation-testing-on-data" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 - Use Expectation Testing on Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-use-memorization-testing-on-training" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 - Use Memorization Testing on Training
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-adapt-regression-testing-for-models" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 - Adapt Regression Testing for Models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-test-in-production-but-dont-yolo" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 - Test in Production, But Don't YOLO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-ml-test-score" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 - ML Test Score
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-troubleshooting-models" class="md-nav__link">
    <span class="md-ellipsis">
      3 - Troubleshooting Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 - Troubleshooting Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-make-it-run" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 - Make It Run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-make-it-fast" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 - Make It Fast
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-make-it-right" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 - Make It Right
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-resources" class="md-nav__link">
    <span class="md-ellipsis">
      4 - Resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 - Resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tweeters" class="md-nav__link">
    <span class="md-ellipsis">
      Tweeters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#templates" class="md-nav__link">
    <span class="md-ellipsis">
      Templates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#texts" class="md-nav__link">
    <span class="md-ellipsis">
      Texts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-5-troubleshooting-and-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 5: Troubleshooting &amp; Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-4-data-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 4: Data Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-6-data-annotation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 6: Data Annotation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-5-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 5: Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-7-web-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 7: Web Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-6-continual-learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 6: Continual Learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-8-model-monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 8: Model Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-7-foundation-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 7: Foundation Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-8-teams-and-pm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 8: ML Teams and Project Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-9-ethics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 9: Ethics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project-showcase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Showcase
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../announcement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Course Announcement
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Older
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Older
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../spring2021/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    FSDL 2021
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2_1" id="__nav_3_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_1">
            <span class="md-nav__icon md-icon"></span>
            FSDL 2021
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/synchronous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Synchronous Online Course
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/projects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Course Projects Showcase
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 1: DL Fundamentals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lab-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 1: Setup and Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/notebook-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Notebook: Coding a neural net
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-2a/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 2A: CNNs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-2b/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 2B: Computer Vision
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lab-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 2: CNNs and Synthetic Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 3: RNNs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lab-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 3: RNNs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 4: Transformers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lab-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 4: Transformers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 5: ML Projects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 6: MLOps Infrastructure &amp; Tooling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lab-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 5: Experiment Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 7: Troubleshooting Deep Neural Networks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 8: Data Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lab-6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 6: Data Labeling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 9: AI Ethics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lab-7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 7: Paragraph Recognition
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 10: Testing &amp; Explainability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lab-8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 8: Testing &amp; CI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 11: Deployment &amp; Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lab-9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 9: Web Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 12: Research Directions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/lecture-13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lecture 13: ML Teams and Startups
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../spring2021/panel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Panel Discussion: Do I need a PhD to work in ML?
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://bit.ly/berkeleyfsdl" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FSDL 2021 (Berkeley)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://bit.ly/uwfsdl" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FSDL 2020 (UW)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://fall2019.fullstackdeeplearning.com" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FSDL 2019 (Online)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="/march2019.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FSDL 2019 (Bootcamp)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="/august2018.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FSDL 2018 (Bootcamp)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud-gpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cloud GPUs
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-testing-software" class="md-nav__link">
    <span class="md-ellipsis">
      1 - Testing Software
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 - Testing Software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-tests-help-us-ship-faster-they-dont-catch-all-bugs" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 - Tests Help Us Ship Faster. They Don't Catch All Bugs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-use-testing-tools-but-dont-chase-coverage" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 - Use Testing Tools, But Don't Chase Coverage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-use-linting-tools-but-leave-escape-valves" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 - Use Linting Tools, But Leave Escape Valves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-always-be-automating" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 - Always Be Automating
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-testing-ml-systems" class="md-nav__link">
    <span class="md-ellipsis">
      2 - Testing ML Systems
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 - Testing ML Systems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-testing-ml-is-hard-but-not-impossible" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 - Testing ML Is Hard, But Not Impossible
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-use-expectation-testing-on-data" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 - Use Expectation Testing on Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-use-memorization-testing-on-training" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 - Use Memorization Testing on Training
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-adapt-regression-testing-for-models" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 - Adapt Regression Testing for Models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-test-in-production-but-dont-yolo" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 - Test in Production, But Don't YOLO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-ml-test-score" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 - ML Test Score
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-troubleshooting-models" class="md-nav__link">
    <span class="md-ellipsis">
      3 - Troubleshooting Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 - Troubleshooting Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-make-it-run" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 - Make It Run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-make-it-fast" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 - Make It Fast
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-make-it-right" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 - Make It Right
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-resources" class="md-nav__link">
    <span class="md-ellipsis">
      4 - Resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 - Resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tweeters" class="md-nav__link">
    <span class="md-ellipsis">
      Tweeters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#templates" class="md-nav__link">
    <span class="md-ellipsis">
      Templates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#texts" class="md-nav__link">
    <span class="md-ellipsis">
      Texts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                  


  
  


<h1 id="lecture-3-troubleshooting-testing">Lecture 3: Troubleshooting &amp; Testing</h1>
<div align="center">
<iframe width="720" height="405" src="https://www.youtube-nocookie.com/embed/RLemHNAO5Lw?list=PL1T8fO7ArWleMMI8KPJ_5D5XSlovTW_Ur" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>

<p>Lecture by <a href="https://twitter.com/charles_irl">Charles Frye</a>.<br />
Notes by <a href="https://twitter.com/le_james94">James Le</a> and <a href="https://www.linkedin.com/in/vrachakonda/">Vishnu Rachakonda</a>.<br />
Published August 22, 2022.
<a href="https://fsdl.me/2022-lecture-03-slides">Download slides</a>.</p>
<h2 id="1-testing-software">1 - Testing Software</h2>
<ol>
<li>
<p>The general approach is that tests will help us ship faster with
fewer bugs, but they won't catch all of our bugs.</p>
</li>
<li>
<p>That means we will use testing tools but won't try to achieve 100%
coverage.</p>
</li>
<li>
<p>Similarly, we will use linting tools to improve the development
experience but leave escape valves rather than pedantically
following our style guides.</p>
</li>
<li>
<p>Finally, we'll discuss tools for automating these workflows.</p>
</li>
</ol>
<h3 id="11-tests-help-us-ship-faster-they-dont-catch-all-bugs">1.1 - Tests Help Us Ship Faster. They Don't Catch All Bugs</h3>
<p><img alt="" src="media/image1.png" /></p>
<p><strong>Tests are code we write that are designed to fail intelligibly when
our other code has bugs</strong>. These tests can help catch some bugs before
they are merged into the main product, but they can't catch all bugs.
The main reason is that test suites are not certificates of correctness.
In some formal systems, tests can be proof of code correctness. But we
are writing in Python (a loosely goosey language), so all bets are off
in terms of code correctness.</p>
<p><a href="https://twitter.com/nelhage?lang=en">Nelson Elhage</a>
framed test suites more like classifiers. The classification problem is:
does this commit have a bug, or is it okay? The classifier output is
whether the tests pass or fail. We can then <strong>treat test suites as a
"prediction" of whether there is a bug</strong>, which suggests a different way
of designing our test suites.</p>
<p>When designing classifiers, we need to trade off detection and false
alarms. <strong>If we try to catch all possible bugs, we can inadvertently
introduce false alarms</strong>. The classic signature of a false alarm is a
failed test - followed by a commit that fixes the test rather than the
code.</p>
<p>To avoid introducing too many false alarms, it's useful to ask yourself
two questions before adding a test:</p>
<ol>
<li>
<p>Which real bugs will this test catch?</p>
</li>
<li>
<p>Which false alarms will this test raise?</p>
</li>
</ol>
<p>If you can think of more examples for the second question than the first
one, maybe you should reconsider whether you need this test.</p>
<p>One caveat is that: <strong>in some settings, correctness is important</strong>.
Examples include medical diagnostics/intervention, self-driving
vehicles, and banking/finance. A pattern immediately arises here: If you
are operating in a high-stakes situation where errors have consequences
for people's lives and livelihoods, even if it's not regulated yet, it
might be regulated soon. These are examples of <strong>low-feasibility,
high-impact ML projects</strong> discussed in the first lecture.</p>
<p><img alt="" src="media/image19.png" /></p>
<h3 id="12-use-testing-tools-but-dont-chase-coverage">1.2 - Use Testing Tools, But Don't Chase Coverage</h3>
<ul>
<li>
<p><em><a href="https://docs.pytest.org/">Pytest</a></em> is the standard
tool for testing Python code. It has a Pythonic implementation and
powerful features such as creating separate suites, sharing
resources across tests, and running parametrized variations of
tests.</p>
</li>
<li>
<p>Pure text docs can't be checked for correctness automatically, so
they are hard to maintain or trust. Python has a nice module,
<a href="https://docs.python.org/3/library/doctest.html"><em>[doctests]</em></a>,
for checking code in the documentation and preventing rot.</p>
</li>
<li>
<p>Notebooks help connect rich media (charts, images, and web pages)
with code execution. A cheap and dirty solution to test notebooks
is adding some <em>asserts</em> and using <em>nbformat</em> to run the
notebooks.</p>
</li>
</ul>
<p><img alt="" src="media/image17.png" /></p>
<p>Once you start adding different types of tests and your codebase grows,
you will want coverage tools for recording which code is checked or
"covered" by tests. Typically, this is done in lines of code, but some
tools can be more fine-grained. We recommend
<a href="https://about.codecov.io/">Codecov</a>, which generates nice
visualizations you can use to drill down and get a high-level overview
of the current state of your testing. Codecov helps you understand your
tests and can be incorporated into your testing. You can say you want to
reject commits not only where tests fail, but also where test coverage
goes down below a certain threshold.</p>
<p>However, we recommend against that. Personal experience, interviews, and
published research suggest that only a small fraction of the tests you
write will generate most of your value. <strong>The right tactic,
engineering-wise, is to expand the limited engineering effort we have on
the highest-impact tests and ensure that those are super high quality</strong>.
If you set a coverage target, you will instead write tests in order to
meet that coverage target (regardless of their quality). You end up
spending more effort to write tests and deal with their low quality.</p>
<p><img alt="" src="media/image16.png" /></p>
<h3 id="13-use-linting-tools-but-leave-escape-valves">1.3 - Use Linting Tools, But Leave Escape Valves</h3>
<p><strong>Clean code is of uniform and standard style</strong>.</p>
<ol>
<li>
<p>Uniform style helps avoid spending engineering time on arguments
over style in pull requests and code review. It also helps improve
the utility of our version control by cutting down on noisy
components of diffs and reducing their size. Both benefits make it
easier for humans to visually parse the diffs in our version
control system and make it easier to build automation around them.</p>
</li>
<li>
<p>Standard style makes it easier to accept contributions for an
open-source repository and onboard new team members for a
closed-source system.</p>
</li>
</ol>
<p><img alt="" src="media/image18.png" /></p>
<p>One aspect of consistent style is consistent code formatting (with
things like whitespace). The standard tool for that in Python is
[the] <em>[black]</em> <a href="https://github.com/psf/black">Python
formatter</a>. It's a very
opinionated tool with a fairly narrow scope in terms of style. It
focuses on things that can be fully automated and can be nicely
integrated into your editor and automated workflows.</p>
<p>For non-automatable aspects of style (like missing docstrings), we
recommend <a href="https://flake8.pycqa.org/"><em>[flake8]</em></a>. It comes
with many extensions and plugins such as docstring completeness, type
hinting, security, and common bugs.</p>
<p>ML codebases often have both Python code and shell scripts in them.
Shell scripts are powerful, but they also have a lot of sharp edges.
<em><a href="https://www.shellcheck.net/">shellcheck</a></em> knows all the
weird behaviors of bash that often cause errors and issues that aren't
immediately obvious. It also provides explanations for why it's raising
a warning or an error. It's very fast to run and can be easily
incorporated into your editor.</p>
<p><img alt="" src="media/image6.png" /></p>
<p>One caveat to this is: <strong>pedantic enforcement of style is obnoxious.</strong>
To avoid frustration with code style and linting, we recommend:</p>
<ol>
<li>
<p>Filtering rules down to the minimal style that achieves the goals we
set out (sticking with standards, avoiding arguments, keeping
version control history clean, etc.)</p>
</li>
<li>
<p>Having an "opt-in" application of rules and gradually growing
coverage over time - which is especially important for existing
codebases (which may have thousands of lines of code that we need
to be fixed).</p>
</li>
</ol>
<h3 id="14-always-be-automating">1.4 - Always Be Automating</h3>
<p><strong>To make the best use of testing and linting practices, you want to
automate these tasks and connect to your cloud version control system
(VCS)</strong>. Connecting to the VCS state reduces friction when trying to
reproduce or understand errors. Furthermore, running things outside of
developer environments means that you can run tests automatically in
parallel to other development work.</p>
<p>Popular, open-source repositories are the best place to learn about
automation best practices. For instance, the PyTorch Github library has
tons of automated workflows built into the repo - such as workflows that
automatically run on every push and pull.</p>
<p><img alt="" src="media/image15.png" /></p>
<p>The tool that PyTorch uses (and that we recommend) is <a href="https://docs.github.com/en/actions">GitHub
Actions</a>, which ties
automation directly to VCS. It is powerful, flexible, performant, and
easy to use. It gets great documentation, can be used with a YAML file,
and is embraced by the open-source community. There are other options
such as <a href="https://pre-commit.ci/">pre-commit.ci</a>,
<a href="https://circleci.com/">CircleCI</a>, and
<a href="https://www.jenkins.io/">Jenkins</a>; but GitHub Actions
seems to have won the hearts and minds in the open-source community in
the last few years.</p>
<p>To keep your version control history as clean as possible, you want to
be able to run tests and linters locally before committing. We recommend
<em><a href="https://github.com/pre-commit/pre-commit">pre-commit</a></em>
to enforce hygiene checks. You can use it to run formatting, linting,
etc. on every commit and keep the total runtime to a few seconds.
<em>pre-commit</em> is easy to run locally and easy to automate with GitHub
Actions.</p>
<p><strong>Automation to ensure the quality and integrity of our software is a
productivity enhancer.</strong> That's broader than just CI/CD. Automation
helps you avoid context switching, surfaces issues early, is a force
multiplier for small teams, and is better documented by default.</p>
<p>One caveat is that: <strong>automation requires really knowing your tools.</strong>
Knowing Docker well enough to use it is not the same as knowing Docker
well enough to automate it. Bad automation, like bad tests, takes more
time than it saves. Organizationally, that makes automation a good task
for senior engineers who have knowledge of these tools, have ownership
over code, and can make these decisions around automation.</p>
<h3 id="summary">Summary</h3>
<ol>
<li>
<p>Automate tasks with GitHub Actions to reduce friction.</p>
</li>
<li>
<p>Use the standard Python toolkit for testing and cleaning your
projects.</p>
</li>
<li>
<p>Choose testing and linting practices with the 80/20 principle,
shipping velocity, and usability/developer experience in mind.</p>
</li>
</ol>
<h2 id="2-testing-ml-systems">2 - Testing ML Systems</h2>
<ol>
<li>
<p>Testing ML is hard, but not impossible.</p>
</li>
<li>
<p>We should stick with the low-hanging fruit to start.</p>
</li>
<li>
<p>Test your code in production, but don't release bad code.</p>
</li>
</ol>
<h3 id="21-testing-ml-is-hard-but-not-impossible">2.1 - Testing ML Is Hard, But Not Impossible</h3>
<p>Software engineering is where many testing practices have been
developed. In software engineering, we compile source code into
programs. In machine learning, training compiles data into a model.
These components are harder to test:</p>
<ol>
<li>
<p>Data is heavier and more inscrutable than source code.</p>
</li>
<li>
<p>Training is more complex and less well-defined.</p>
</li>
<li>
<p>Models have worse tools for debugging and inspection than compiled
programs.</p>
</li>
</ol>
<p>In this section, we will focus primarily on "smoke" tests. These tests
are easy to implement and still effective. They are among the 20% of
tests that get us 80% of the value.</p>
<h3 id="22-use-expectation-testing-on-data">2.2 - Use Expectation Testing on Data</h3>
<p><strong>We test our data by checking basic properties</strong>. We express our
expectations about the data, which might be things like there are no
nulls in this column or the completion date is after the start date.
With expectation testing, you will start small with only a few
properties and grow them slowly. You only want to test things that are
worth raising alarms and sending notifications to others.</p>
<p><img alt="" src="media/image14.png" /></p>
<p>We recommend
<a href="https://greatexpectations.io/"><em>[great_expectations]</em></a> for
data testing. It automatically generates documentation and quality
reports for your data, in addition to built-in logging and alerting
designed for expectation testing. To get started, check out <a href="https://github.com/GokuMohandas/testing-ml">this
MadeWithML tutorial on
great_expectations</a>.</p>
<p><img alt="" src="media/image13.png" /></p>
<p>To move forward, you want to stay as close to the data as possible:</p>
<ol>
<li>
<p>A common pattern is that there's a benchmark dataset with
annotations (in academia) or an external annotation team (in the
industry). A lot of the detailed information about that data can
be extracted by simply looking at it.</p>
</li>
<li>
<p>One way for data to get internalized into the organization is that
at the start of the project, model developers annotate data ad-hoc
(especially if you don't have the budget for an external
annotation team).</p>
</li>
<li>
<p>However, if the model developers at the start of the project move on
and more developers get onboarded, that knowledge is diluted. A
better solution is an internal annotation team that has a regular
information flow with the model developers is a better solution.</p>
</li>
<li>
<p>The best practice (<a href="https://twitter.com/sh_reya/status/1521903046392877056">recommended by Shreya
Shankar</a>)
is t<strong>o have a regular on-call rotation where model developers
annotate data themselves</strong>. Ideally, these are fresh data so that
all members of the team who are developing models know about the
data and build intuition/expertise in the data.</p>
</li>
</ol>
<h3 id="23-use-memorization-testing-on-training">2.3 - Use Memorization Testing on Training</h3>
<p><strong>Memorization is the simplest form of learning</strong>. Deep neural networks
are very good at memorizing data, so checking whether your model can
memorize a very small fraction of the full data set is a great smoke
test for training. If a model can't memorize, then something is clearly
very wrong!</p>
<p>Only really gross issues with training will show up with this test. For
example, your gradients may not be calculated correctly, you have a
numerical issue, or your labels have been shuffled; serious issues like
these. Subtle bugs in your model or your data are not going to show up.
A way to catch smaller bugs is to include the length of run time in your
test coverage. It's a good way to detect if smaller issues are making it
harder for your model to learn. If the number of epochs it takes to
reach an expected performance suddenly goes up, it may be due to a
training bug. PyTorch Lightning has an "<em>overfit_batches</em>" feature that
can help with this.</p>
<p><strong>Make sure to tune memorization tests to run quickly, so you can
regularly run them</strong>. If they are under 10 minutes or some short
threshold, they can be run every PR or code change to better catch
breaking changes. A couple of ideas for speeding up these tests are
below:</p>
<p><img alt="" src="media/image3.png" /></p>
<p>Overall, these ideas lead to memorization tests that implement model
training on different time scale and allow you to mock out scenarios.</p>
<p>A solid, if expensive idea for testing training is to <strong>rerun old
training jobs with new code</strong>. It's not something that can be run
frequently, but doing so can yield lessons about what unexpected changes
might have happened in your training pipeline. The main drawback is the
potential expense of running these tests. CI platforms like
<a href="https://circleci.com/">CircleCI</a> charge a great deal for
GPUs, while others like Github Actions don't offer access to the
relevant machines easily.</p>
<p>The best option for testing training is to <strong>regularly run training with
new data that's coming in from production</strong>. This is still expensive,
but it is directly related to improvements in model development, not
just testing for breakages. Setting this up requires <strong>a data flywheel</strong>
similar to what we talked about in Lecture 1. Further tooling needed to
achieve will be discussed down the line.</p>
<h3 id="24-adapt-regression-testing-for-models">2.4 - Adapt Regression Testing for Models</h3>
<p><strong>Models are effectively functions</strong>. They have inputs and produce
outputs like any other function in code. So, why not test them like
functions with regression testing? For specific inputs, we can check to
see whether the model consistently returns the same outputs. This is
best done with simpler models like classification models. It's harder to
maintain such tests with more complex models. However, even in a more
complex model scenario, regression testing can be useful for comparing
changes from training to production.</p>
<p><img alt="" src="media/image11.png" /></p>
<p>A more sophisticated approach to testing for ML models is to <strong>use loss
values and model metrics to build documented test suites out of your
data</strong>. Consider this similar to <a href="https://en.wikipedia.org/wiki/Test-driven_development">the test-driven
development</a>
(TDD) code writing paradigm. The test that is written before your code
in TDD is akin to your model's loss performance; both represent the gap
between where your code needs to be and where it is. Over time, as we
improve the loss metric, our model is getting closer to passing "the
test" we've imposed on it. The gradient descent we use to improve the
model can be considered a TDD approach to machine learning models!</p>
<p><img alt="" src="media/image9.png" /></p>
<p>While gradient descent is somewhat like TDD, it's not <em>exactly</em> the same
because simply reviewing metrics doesn't tell us how to resolve model
failures (the way traditional software tests do).</p>
<p>To fill in this gap, <strong>start by <a href="https://arxiv.org/abs/1912.05283">looking at the data points that have
the highest loss</a></strong>. Flag
them for a test suite composed of "hard" examples. Doing this provides
two advantages: it helps find where the model can be improved, and it
can also help find errors in the data itself (i.e. poor labels).</p>
<p>As you examine these failures, you can aggregate types of failures into
named suites. For example in a self-driving car use case, you could have
a "night time" suite and a "reflection" suite. <strong>Building these test
suites can be considered the machine learning version of regression
testing</strong>, where you take bugs that you've observed in production and
add them to your test suite to make sure that they don't come up again.</p>
<p><img alt="" src="media/image8.png" /></p>
<p>The method can be quite manual, but there are some options for speeding
it up. Partnering with the annotation team at your company can help make
developing these tests a lot faster. Another approach is to use a method
called <a href="https://arxiv.org/abs/2203.14960">Domino</a> that
uses foundation models to find errors. Additionally, for testing NLP
models, use the
<a href="https://arxiv.org/abs/2005.04118">CheckList</a> approach.</p>
<h3 id="25-test-in-production-but-dont-yolo">2.5 - Test in Production, But Don't YOLO</h3>
<p>It's crucial to test in true production settings. This is especially
true for machine learning models, because data is an important component
of both the production and the development environments. It's difficult
to ensure that both are very close to one another.</p>
<p><strong>The best way to solve the training and production difference is to
test in production</strong>.</p>
<p>Testing in production isn't sufficient on its own. Rather, testing in
production allows us to develop tooling and infrastructure that allows
us to resolve production errors quickly (which are often quite
expensive). It reduces pressure on other kinds of testing, but does not
replace them.</p>
<p><img alt="" src="media/image7.png" /></p>
<p>We will cover in detail the tooling needed for production monitoring and
continual learning of ML systems in a future lecture.</p>
<h3 id="26-ml-test-score">2.6 - ML Test Score</h3>
<p>So far, we have discussed writing "smoke" tests for ML: expectation
tests for data, memorization tests for training, and regression tests
for models.</p>
<p><strong>As your code base and team mature, adopt a more full-fledged approach
to testing ML systems like the approach identified in the <a href="https://research.google/pubs/pub46555/">ML Test
Score</a> paper</strong>. The
ML Test Score is a rubric that evolved out of machine learning efforts
at Google. It's a strict rubric for ML test quality that covers data,
models, training, infrastructure, and production monitoring. It overlaps
with, but goes beyond some of the recommendations we've offered.</p>
<p><img alt="" src="media/image2.png" /></p>
<p>It's rather expensive, but worth it for high stakes use cases that need
to be really well-engineered! To be really clear, this rubric is
<em>really</em> strict. Even our Text Recognizer system we've designed so far
misses a few categories. Use the ML Test Score as inspiration to develop
the right testing approach that works for your team's resources and
needs.</p>
<p><img alt="" src="media/image5.png" /></p>
<h2 id="3-troubleshooting-models">3 - Troubleshooting Models</h2>
<p><strong>Tests help us figure out something is wrong, but troubleshooting is
required to actually fix broken ML systems</strong>. Models often require the
most troubleshooting, and in this section we'll cover a three step
approach to troubleshooting them.</p>
<ol>
<li>
<p>"Make it run" by avoiding common errors.</p>
</li>
<li>
<p>"Make it fast" by profiling and removing bottlenecks.</p>
</li>
<li>
<p>"Make it right" by scaling model/data and sticking with proven
architectures.</p>
</li>
</ol>
<h3 id="31-make-it-run">3.1 - Make It Run</h3>
<p>This is the easiest step for models; only a small portion of bugs cause
the kind of loud failures that prevent a model from running at all.
Watch out for these bugs in advance and save yourself the trouble of
models that don't run.</p>
<p>The first type of bugs that prevent models from running at all are
<strong>shape errors.</strong> When the shape of the tensors don't match for the
operations run on them, models can't be trained or run. Prevent these
errors by keeping notes on the expected size of tensors, annotate the
sizes in the code, and even step through your model code with a debugger
to check tensor size as you go.</p>
<p><img alt="" src="media/image10.png" /></p>
<p>The second type of bugs is out of <strong>memory errors</strong>. This occurs when
you try to push a tensor to a GPU that is too large to fit. PyTorch
Lightning has good tools to prevent this. Make sure you're using the
lowest precision your training can tolerate; a good default is 16 bit
precision. Another common reason for this is trying to run a model on
too much data or too large a batch size. Use the autoscale batch size
feature in PyTorch Lightning to pick the right size batch. You can use
gradient accumulation if these batch sizes get too small. If neither of
these options work, you can look into manual techniques like tensor
parallelism and gradient checkpoints.</p>
<p><strong>Numerical errors</strong> also cause machine learning failures. This is when
NaNs or infinite values show up in tensors. These issues most commonly
appear first in the gradient and then cascade through the model. PyTorch
Lightning has a good tool for tracking and logging gradient norms. A
good tip to check whether these issues are caused by precision issues is
to switch to Python 64 bit floats and see if that causes these issues to
go away. Normalization layers tend to cause these issues, generally
speaking. So watch out for how you do normalization!</p>
<h3 id="32-make-it-fast">3.2 - Make It Fast</h3>
<p><img alt="" src="media/image4.png" /></p>
<p>Once you can run a model, you'll want it to run fast. This can be tricky
because the performance of DNN training code is very counterintuitive.
For example, transformers can actually spend more time in the MLP layer
than the attention layer. Similarly, trivial components like loading
data can soak up performance.</p>
<p>To solve these issues, the primary solution is to <strong>roll up your sleeves
and profile your code</strong>. You can often find pretty easy Python changes
that yield big results. Read these two tutorials by
<a href="https://wandb.ai/wandb/trace/reports/A-Public-Dissection-of-a-PyTorch-Training-Step--Vmlldzo5MDE3NjU?galleryTag=&amp;utm_source=fully_connected&amp;utm_medium=blog&amp;utm_campaign=using+the+pytorch+profiler+with+w%26b">Charles</a>
and <a href="https://horace.io/brrr_intro.html">Horace</a> for more
details.</p>
<h3 id="33-make-it-right">3.3 - Make It Right</h3>
<p>After you make it run fast, make the model right. Unlike traditional
software, machine learning models never are truly perfect. Production
performance is never perfect. As such, it might be more appropriate to
say "make it as right as needed".</p>
<p>Knowing this, making the model run and run fast allows us to make the
model right through applying <strong>scale.</strong> To achieve performance benefits,
scaling a model or its data are generally fruitful and achievable
routes. It's a lot easier to scale a fast model. <a href="https://arxiv.org/abs/2001.08361">Research from OpenAI
and other institutions</a>
is showing that benefits from scale can be rigorously measured and
predicted across compute budget, dataset size, and parameter count.</p>
<p><img alt="" src="media/image12.png" /></p>
<p>If you can't afford to scale yourself, consider finetuning a model
trained at scale for your task.</p>
<p>So far, all of the advice given has been model and task-agnostic.
Anything more detailed has to be specific to the model and the relevant
task. Stick close to working architectures and hyperparameters from
places like HuggingFace, and try not to reinvent the wheel!</p>
<h2 id="4-resources">4 - Resources</h2>
<p>Here are some helpful resources that discuss this topic.</p>
<h3 id="tweeters">Tweeters</h3>
<ol>
<li>
<p><a href="https://twitter.com/b0rk">Julia Evans</a></p>
</li>
<li>
<p><a href="https://twitter.com/mipsytipsy">Charity Majors</a></p>
</li>
<li>
<p><a href="https://twitter.com/nelhage">Nelson Elhage</a></p>
</li>
<li>
<p><a href="https://twitter.com/kipperrii">kipply</a></p>
</li>
<li>
<p><a href="https://twitter.com/cHHillee">Horace He</a></p>
</li>
<li>
<p><a href="https://twitter.com/karpathy">Andrej Karpathy</a></p>
</li>
<li>
<p><a href="https://twitter.com/chipro">Chip Huyen</a></p>
</li>
<li>
<p><a href="https://twitter.com/jeremyphoward">Jeremy Howard</a></p>
</li>
<li>
<p><a href="https://twitter.com/wightmanr">Ross Wightman</a></p>
</li>
</ol>
<h3 id="templates">Templates</h3>
<ol>
<li>
<p><a href="https://github.com/ashleve/lightning-hydra-template">Lightning Hydra
Template</a></p>
</li>
<li>
<p><a href="https://github.com/grok-ai/nn-template">NN Template</a></p>
</li>
<li>
<p><a href="https://github.com/sudomaze/deep-learning-project-template">Generic Deep Learning Project
Template</a></p>
</li>
</ol>
<h3 id="texts">Texts</h3>
<ol>
<li>
<p><a href="https://www.usenix.org/conference/opml20/presentation/papasian">Reliable ML Systems
talk</a></p>
</li>
<li>
<p><a href="https://research.google/pubs/pub46555/">"ML Test Score"
paper</a></p>
</li>
<li>
<p><a href="https://blogs.oracle.com/linux/post/attack-of-the-cosmic-rays">"Attack of the Cosmic
Rays!"</a></p>
</li>
<li>
<p><a href="https://blog.nelhage.com/post/computers-can-be-understood/">"Computers can be
understood"</a></p>
</li>
<li>
<p><a href="https://blog.nelhage.com/post/systems-that-defy-understanding/">"Systems that defy detailed
understanding"</a></p>
</li>
<li>
<p><a href="https://madewithml.com/courses/mlops/testing/">Testing section from MadeWithML course on
MLOps</a></p>
</li>
</ol>







  
  



  




                

<div id="emailModal">
  <div>
    <h2>We are excited to share this course with you for <strong>free</strong>.</h2>
    <p>
      We have more upcoming great content.
      Subscribe to stay up to date as we release it.
    </p>
    <p>
      <form id="emailForm">
        <input name="email" type="email" id="emailInput" placeholder="Your Email" required />
        <div class="cf-turnstile" data-sitekey="0x4AAAAAAAEktm15XKkJyc3Z" data-callback="javascriptCallback"></div>
        <button type="submit" id="submitEmail" class="md-button md-button--primary">
          Enter
        </button>
      </form>
    </p>
    <small><p class="flex flex-wrap justify-between">
      <span>
        We take your privacy and attention very seriously and will never spam you.
      </span>
      <a id="emailModalCloseLink" href="javascript:void(0)" class="">I am already a subscriber</a>
    </p></small>
  </div>
</div>


              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      The Full Stack, 2023
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/full_stack_dl" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/@The_Full_Stack" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/full-stack-deep-learning/posts/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../../javascripts/email_modal.js"></script>
      
    
  </body>
</html>